<ion-header>
  <ion-toolbar color="primary">
  <ion-buttons slot="start">
      <ion-menu-button autoHide="false"></ion-menu-button>
    </ion-buttons>
  <ion-title>My Complaints</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
<ion-card>
<ion-item>
<ion-select placeholder="Select complaint type" [(ngModel)]="ctype" (ionChange)="get()">
<ion-select-option value="private">Private</ion-select-option>
<ion-select-option value="public">Public</ion-select-option>
</ion-select>
</ion-item>
</ion-card>
<ion-card *ngFor="let c of cmp">
<ion-item>
 <ion-avatar>
           <img src="{{c.userdetails[0].profile_pic}}"  onError="src = '../../assets/img/profile.png'">
          
           </ion-avatar>
            <ion-label> {{c.userdetails[0].name}}</ion-label>

</ion-item>
<ion-item>
<p>{{c.complaint}}</p>
</ion-item>
<ion-item *ngIf="c.media!='empty'">
<img src="{{c.media}}">
</ion-item>
<ion-item>
<br>{{c.datetime | date:'dd/MM/yyyy'}} at 
{{c.datetime | date:'HH:mm a'}} 
</ion-item>
<ion-item *ngIf="c.complainttype=='private'">
<ion-button (click)="viewprivate(c._id)">View</ion-button>
</ion-item>
<ion-item *ngIf="c.complainttype=='public'">
<ion-button (click)="viewpublic(c._id)">View</ion-button>

</ion-item>
<ion-item >
<ion-button (click)="delete(c._id)">Delete</ion-button>

</ion-item>
</ion-card>


</ion-content>
